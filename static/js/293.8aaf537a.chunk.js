"use strict";(self.webpackChunkespressit_social_media_app=self.webpackChunkespressit_social_media_app||[]).push([[293],{293:function(t,n,e){e.r(n),e.d(n,{default:function(){return v}});var s=e(4165),i=e(5861),o=e(885),r=e(2791),c=e(4191),a=e.n(c);var u=e.p+"static/media/delete.bde675c38d54979f589e6b290bea398a.svg",l=e(9062),m=e(2426),d=e(184),v=function(t){var n=t.currentUser,e=t.toggleViewContributionsPage,c=(0,r.useState)({current:""}),v=(0,o.Z)(c,2),h=v[0],p=v[1],f=(0,r.useState)({posts:[],comments:[],favorites:[]}),b=(0,o.Z)(f,2),x=b[0],j=b[1],N=(0,m.ZF)({apiKey:"AIzaSyDsPecBa3Ch5uDw4UzHiJWAjKEYOKCrNdA",authDomain:"espressit.firebaseapp.com",projectId:"espressit",storageBucket:"espressit.appspot.com",messagingSenderId:"1094129721341",appId:"1:1094129721341:web:dc2bdc0a2b322504b04394"}),w=(0,l.ad)(N),k=n;(0,r.useEffect)((function(){!function(){var t=(0,i.Z)((0,s.Z)().mark((function t(){var n,e,i,o,r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,l.JU)(w,"users",k.uid),t.next=3,(0,l.QT)(n);case 3:(e=t.sent).exists()&&(i=e.data().posts,o=e.data().comments,r=e.data().favoritePosts,j({posts:i,comments:o,favorites:r}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]);var C=function(t){p({current:t})},g=function(){var t=(0,i.Z)((0,s.Z)().mark((function t(n,e){var i,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,l.JU)(w,"users",k.uid),t.next=3,(0,l.QT)(i);case 3:if(!(o=t.sent).exists()){t.next=17;break}if("post"!==n){t.next=8;break}return y(o.data().posts,e,i),t.abrupt("return");case 8:if("comment"!==n){t.next=12;break}return Z(o.data().comments,e,i),t.abrupt("return");case 12:if("favorite"!==n){t.next=16;break}return P(o.data().favoritePosts,e,i),t.abrupt("return");case 16:case 17:case 18:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),y=function(){var t=(0,i.Z)((0,s.Z)().mark((function t(n,e,i){var o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.filter((function(t){return t.pid!==e.pid})),t.next=4,(0,l.r7)(i,{posts:o});case 4:return t.next=6,(0,l.oe)((0,l.JU)(w,"posts",e.pid));case 6:return j({posts:o,comments:x.comments,favorites:x.favorites}),t.abrupt("return");case 8:case"end":return t.stop()}}),t)})));return function(n,e,s){return t.apply(this,arguments)}}(),Z=function(){var t=(0,i.Z)((0,s.Z)().mark((function t(n,e,i){var o,r,c,a,u;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.filter((function(t){return t.comment!==e.comment})),t.next=4,(0,l.r7)(i,{comments:o});case 4:return r=(0,l.JU)(w,"posts",e.pid),t.next=7,(0,l.QT)(r);case 7:if(!(c=t.sent).exists()){t.next=15;break}return a=c.data().comments,u=a.filter((function(t){return t.comment!==e.comment})),t.next=13,(0,l.r7)(r,{comments:u});case 13:t.next=16;break;case 15:alert("we were not able to remove your comment from the original post, but it was removed from your account; please reach out to dutsandrew@gmail.com to resolve this issue");case 16:return j({posts:x.posts,comments:o,favorites:x.favorites}),t.abrupt("return");case 19:case"end":return t.stop()}}),t)})));return function(n,e,s){return t.apply(this,arguments)}}(),P=function(){var t=(0,i.Z)((0,s.Z)().mark((function t(n,e,i){var o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.filter((function(t){return t.pid!==e.pid})),t.next=4,(0,l.r7)(i,{favoritePosts:o});case 4:j({posts:x.posts,comments:x.comments,favorites:o});case 5:case"end":return t.stop()}}),t)})));return function(n,e,s){return t.apply(this,arguments)}}();return 0===h.current.length?(0,d.jsxs)("div",{className:"view-contributions-container",children:[(0,d.jsx)("button",{className:"close-view-contributions-button",onClick:function(){return e()},children:"Return to Home"}),(0,d.jsx)("h1",{className:"view-contributions-prompt",children:"Select one of the following:"}),(0,d.jsxs)("div",{className:"contributions-nav",children:[(0,d.jsx)("h2",{className:"contributions-post-selector",onClick:function(){return C("posts")},children:"Posts"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-comments-selector",onClick:function(){return C("comments")},children:"Comments"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-favorites-selector",onClick:function(){return C("favorites")},children:"Favorites"})]})]}):"posts"===h.current?0===x.posts.length?(0,d.jsxs)("div",{className:"view-contributions-container",children:[(0,d.jsx)("button",{className:"close-view-contributions-button",onClick:function(){return e()},children:"Return to Home"}),(0,d.jsxs)("div",{className:"contributions-nav",children:[(0,d.jsx)("h2",{className:"contributions-post-selector",onClick:function(){return C("posts")},children:"Posts"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-comments-selector",onClick:function(){return C("comments")},children:"Comments"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-favorites-selector",onClick:function(){return C("favorites")},children:"Favorites"})]}),(0,d.jsx)("div",{className:"view-contributions-posts-container",children:(0,d.jsx)("p",{className:"view-contributions-none-text",children:"You don't have any contributions in this category, go make some!"})})]}):(0,d.jsxs)("div",{className:"view-contributions-container",children:[(0,d.jsx)("button",{className:"close-view-contributions-button",onClick:function(){return e()},children:"Return to Home"}),(0,d.jsxs)("div",{className:"contributions-nav",children:[(0,d.jsx)("h2",{className:"contributions-post-selector",onClick:function(){return C("posts")},children:"Posts"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-comments-selector",onClick:function(){return C("comments")},children:"Comments"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-favorites-selector",onClick:function(){return C("favorites")},children:"Favorites"})]}),(0,d.jsx)("div",{className:"view-contributions-posts-container",children:Array.isArray(x.posts)&&x.posts.map((function(t){return(0,d.jsxs)("div",{className:"view-contributions-post",children:[(0,d.jsx)("p",{className:"view-contributions-post-text",children:t.title.length>75?t.title.slice(0,75).concat("..."):t.title}),(0,d.jsx)("img",{className:"view-contributions-post-delete-svg",alt:"delete icon",src:u,onClick:function(){return g("post",t)}})]},a()())}))})]}):"comments"===h.current?0===x.comments.length?(0,d.jsxs)("div",{className:"view-contributions-container",children:[(0,d.jsx)("button",{className:"close-view-contributions-button",onClick:function(){return e()},children:"Return to Home"}),(0,d.jsxs)("div",{className:"contributions-nav",children:[(0,d.jsx)("h2",{className:"contributions-post-selector",onClick:function(){return C("posts")},children:"Posts"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-comments-selector",onClick:function(){return C("comments")},children:"Comments"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-favorites-selector",onClick:function(){return C("favorites")},children:"Favorites"})]}),(0,d.jsx)("div",{className:"view-contributions-posts-container",children:(0,d.jsx)("p",{className:"view-contributions-none-text",children:"You don't have any contributions in this category, go make some!"})})]}):(0,d.jsxs)("div",{className:"view-contributions-container",children:[(0,d.jsx)("button",{className:"close-view-contributions-button",onClick:function(){return e()},children:"Return to Home"}),(0,d.jsxs)("div",{className:"contributions-nav",children:[(0,d.jsx)("h2",{className:"contributions-post-selector",onClick:function(){return C("posts")},children:"Posts"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-comments-selector",onClick:function(){return C("comments")},children:"Comments"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-favorites-selector",onClick:function(){return C("favorites")},children:"Favorites"})]}),(0,d.jsx)("div",{className:"view-contributions-comments-container",children:Array.isArray(x.comments)&&x.comments.map((function(t){return(0,d.jsxs)("div",{className:"view-contributions-comments",children:[(0,d.jsx)("p",{className:"view-contributions-comment-text",children:t.comment.length>75?t.comment.slice(0,75).concat("..."):t.comment}),(0,d.jsx)("img",{className:"view-contributions-comment-delete-svg",alt:"delete icon",src:u,onClick:function(){return g("comment",t)}})]},a()())}))})]}):"favorites"===h.current?0===x.favorites.length?(0,d.jsxs)("div",{className:"view-contributions-container",children:[(0,d.jsx)("button",{className:"close-view-contributions-button",onClick:function(){return e()},children:"Return to Home"}),(0,d.jsxs)("div",{className:"contributions-nav",children:[(0,d.jsx)("h2",{className:"contributions-post-selector",onClick:function(){return C("posts")},children:"Posts"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-comments-selector",onClick:function(){return C("comments")},children:"Comments"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-favorites-selector",onClick:function(){return C("favorites")},children:"Favorites"})]}),(0,d.jsx)("div",{className:"view-contributions-posts-container",children:(0,d.jsx)("p",{className:"view-contributions-none-text",children:"You don't have any contributions in this category, go make some!"})})]}):(0,d.jsxs)("div",{className:"view-contributions-container",children:[(0,d.jsx)("button",{className:"close-view-contributions-button",onClick:function(){return e()},children:"Return to Home"}),(0,d.jsxs)("div",{className:"contributions-nav",children:[(0,d.jsx)("h2",{className:"contributions-post-selector",onClick:function(){return C("posts")},children:"Posts"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-comments-selector",onClick:function(){return C("comments")},children:"Comments"}),(0,d.jsx)("p",{className:"contributions-nav-divider",children:"|"}),(0,d.jsx)("h2",{className:"contributions-favorites-selector",onClick:function(){return C("favorites")},children:"Favorites"})]}),(0,d.jsx)("div",{className:"view-contributions-favorites-container",children:Array.isArray(x.favorites)&&x.favorites.map((function(t){return(0,d.jsxs)("div",{className:"view-contributions-favorite",children:[(0,d.jsx)("p",{className:"view-contributions-favorite-text",children:t.title.length>75?t.title.slice(0,75).concat("..."):t.title}),(0,d.jsx)("img",{className:"view-contributions-favorite-delete-svg",alt:"delete icon",src:u,onClick:function(){return g("favorite",t)}})]},a()())}))})]}):(0,d.jsx)("p",{children:"Error, please try again later"})}}}]);
//# sourceMappingURL=293.8aaf537a.chunk.js.map